{
  "$schema": "https://claude.ai/schemas/settings.json",
  "_comment": "Doctrine standard Claude Code configuration - https://github.com/welshwandering/doctrine",

  "permissions": {
    "allow": [
      "Bash(npm run *)",
      "Bash(npx *)",
      "Bash(bun run *)",
      "Bash(pnpm *)",
      "Bash(yarn *)",
      "Bash(uv run *)",
      "Bash(cargo *)",
      "Bash(go run *)",
      "Bash(go test *)",
      "Bash(go build *)",
      "Bash(bundle exec *)",
      "Bash(rails *)",
      "Bash(rake *)",
      "Bash(pytest *)",
      "Bash(python -m pytest *)",
      "Bash(git status*)",
      "Bash(git diff*)",
      "Bash(git log*)",
      "Bash(git branch*)",
      "Bash(git checkout*)",
      "Bash(git switch*)",
      "Bash(git add*)",
      "Bash(git commit*)",
      "Bash(git stash*)",
      "Bash(git show*)",
      "Bash(cat *)",
      "Bash(ls *)",
      "Bash(find *)",
      "Bash(grep *)",
      "Bash(rg *)",
      "Bash(head *)",
      "Bash(tail *)",
      "Bash(wc *)",
      "Bash(sort *)",
      "Bash(uniq *)",
      "Bash(diff *)",
      "Bash(which *)",
      "Bash(echo *)",
      "Bash(pwd)",
      "Bash(date)",
      "Bash(env | grep *)",
      "Read(*)",
      "Glob(*)",
      "Grep(*)",
      "Write(src/**)",
      "Write(lib/**)",
      "Write(app/**)",
      "Write(tests/**)",
      "Write(test/**)",
      "Write(spec/**)",
      "Write(docs/**)",
      "Write(*.md)",
      "Write(*.json)",
      "Write(*.yaml)",
      "Write(*.yml)",
      "Write(*.toml)",
      "Edit(src/**)",
      "Edit(lib/**)",
      "Edit(app/**)",
      "Edit(tests/**)",
      "Edit(test/**)",
      "Edit(spec/**)",
      "Edit(docs/**)",
      "Edit(*.md)",
      "Edit(*.json)",
      "Edit(*.yaml)",
      "Edit(*.yml)",
      "Edit(*.toml)"
    ],
    "deny": [
      "Bash(rm -rf *)",
      "Bash(rm -r /*)",
      "Bash(sudo *)",
      "Bash(curl * | bash)",
      "Bash(curl * | sh)",
      "Bash(wget * | bash)",
      "Bash(wget * | sh)",
      "Bash(chmod 777 *)",
      "Bash(chmod -R 777 *)",
      "Bash(chown -R *)",
      "Bash(> /dev/sd*)",
      "Bash(dd if=*)",
      "Bash(mkfs*)",
      "Bash(fdisk*)",
      "Bash(:(){ :|:& };:)",
      "Bash(git push --force*)",
      "Bash(git reset --hard*)",
      "Write(.env)",
      "Write(.env.*)",
      "Write(**/secrets/**)",
      "Write(**/*secret*)",
      "Write(**/*password*)",
      "Write(**/*credential*)",
      "Write(**/*token*)",
      "Write(**/*.pem)",
      "Write(**/*.key)",
      "Write(**/id_rsa*)",
      "Edit(.env)",
      "Edit(.env.*)",
      "Edit(**/secrets/**)"
    ]
  },

  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "if command -v npm &> /dev/null && [ -f package.json ]; then npm run format --if-present -- \"$CLAUDE_FILE\" 2>/dev/null || true; fi"
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'âœ“ Claude stopped - verify completion criteria met'"
          }
        ]
      }
    ]
  },

  "preferences": {
    "autoCompact": true,
    "compactThreshold": 100000
  }
}
